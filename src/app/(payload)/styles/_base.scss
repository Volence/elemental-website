// ============================================
// BASE ADMIN STYLES
// ============================================

@import './variables';
@import './mixins';

// ============================================
// BACKGROUNDS
// ============================================

body,
.template-default,
.template-default__wrap,
main {
  background-color: $admin-bg-base;
}

aside,
.template-default aside,
.nav {
  background-color: $admin-bg-elevated;
  border-right: 1px solid $admin-border-subtle;
  box-shadow: 2px 0 12px rgba(0, 0, 0, 0.3);
}

.render-default,
.dashboard,
.collection-list,
.doc-controls,
main > div,
form {
  background-color: $admin-bg-base;
}

// Fix create-first-user page background
section,
.template-default section,
[class*="account"],
[class*="create-first-user"] {
  background-color: $admin-bg-base;
}

// Button container backgrounds
.form-submit,
[class*="form__submit"],
[class*="form-actions"],
form > div:last-child {
  background: transparent;
  border: none;
  box-shadow: none;
}

// ============================================
// THEME LOADER FIX
// ============================================

html {
  opacity: 0;
  scroll-behavior: smooth;
  background-color: $admin-bg-base;
}

html[data-theme='dark'],
html[data-theme='light'] {
  opacity: 1;
}

// ============================================
// DASHBOARD CLEANUP
// ============================================

// Hide default dashboard cards (collections in sidebar instead)
.dashboard__cards,
.dashboard__group {
  display: none;
}

.dashboard,
.collection-list {
  padding: $spacing-xl;
}

// ============================================
// UI CLEANUP
// ============================================

// Hide broken template close button and redundant sidebar close button
.template-default__close,
button[aria-label="Close"]:not(.hamburger__close) {
  display: none !important;
}

// Mobile nav - lock body scroll when open
@media (max-width: 767px) {
  body.nav-open {
    overflow: hidden;
    position: fixed;
    width: 100%;
  }
  
  .nav__mobile-close {
    display: block;
  }
}

@media (min-width: 768px) {
  // Hide mobile nav close button on desktop
  .nav__mobile-close,
  button.nav__mobile-close,
  [class*="nav__mobile-close"],
  .hamburger__close,
  button.hamburger__close {
    display: none !important;
  }
  
  // Hide mobile menu toggle button in header on desktop
  .template-default__header button:first-child,
  header[role="banner"] > div > button:first-child,
  [class*="header"] > div > button[aria-label*="Menu"] {
    display: none !important;
  }
  
  // Hide redundant "Close" button at bottom of sidebar (same as collapse)
  [role="complementary"] nav ~ button,
  [role="complementary"] nav + button,
  [role="complementary"] > * > button:last-child {
    display: none !important;
  }
}

// ============================================
// DARK GLOW GLOBAL BASE STYLES
// ============================================

// Apply DARK GLOW to badges, pills, and tags by default
.pill,
.badge,
.chip,
.tag {
  @include dark-glow-badge;
}

// Apply DARK GLOW to cards
.card,
[class*="card"]:not([class*="stat-card"]):not([class*="dashboard-stats"]):not([class*="assigned-teams"]) {
  @include dark-glow-card;
}

// Apply DARK GLOW to buttons (excluding certain system buttons)
button:not([type="submit"]):not([aria-label*="Close"]):not([class*="hamburger"]),
.btn {
  @include dark-glow-button;
}

